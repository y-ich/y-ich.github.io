<!-- saved from url=(0037)http://www.mucow.com/squeak-qref.html -->
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=UTF-8">
<meta name="GENERATOR" content="Microsoft FrontPage Express 2.0">
<title>Squeak Smalltalk: 基本的な言語リファレンス</title>
<!--This file created 2001.05.21 1:43 by Claris Home Page version 3.0-->
<script type="text/javascript"><!--

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-510249-13']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

--></script>
</head>

<body bgcolor="#E6E1B8">

<h1 align="center">Squeak Smalltalk: 言語リファレンス</h1>

<p align="left">２００３年８月１３日更新</p>

<p align="left">このページは、Andrew C. GreenbergさんとAndrew
P. Blackさんによる<a
href="http://www.mucow.com/squeak-qref.html">&quot;Squeak
Smalltalk: Language Reference&quot;</a>の翻訳です。Blackさんから許可を得て公開しています。</p>

<hr align="left">

<p><font size="2"><i>Version 0.0, 20 November 1999, by Andrew C.
Greenberg, </i></font><a href="mailto:werdna@mucow.com"><font
size="2"><i>werdna@mucow.com</i></font></a><font size="2"><i><br>
Version 1.2, 26 April 2001, by Andrew P. Black, </i></font><a
href="http://www.cse.ogi.edu/~black"><font size="2"><i>black@cse.ogi.edu</i></font></a><font
size="2"><i><br>
Version 0.1J, 16 Febrary 2003, by ICHIKAWA, Yuji. (based on
Squeak version 3.2)</i></font></p>

<p><font size="2">Based on:<br>
&nbsp;&nbsp;&nbsp; Smalltalk-80: The Language and Its
Implementation, Author: Adele Goldberg and David Robson<br>
&nbsp;&nbsp;&nbsp; Squeak Source Code, and the readers of the
Squeak mailing list.</font></p>

<p><font size="2">Squeak site: </font><a
href="http://www.squeak.org/"><font size="2">http://www.squeak.org</font></a></p>

<hr align="left">

<h2>目次</h2>

<menu>
    <li><a href="#UsingSqueak">Squeakを使おう</a> </li>
    <li><a href="#Syntax">Squeak Smalltalkシンタックス</a> </li>
</menu>

<p><a href="http://www.mucow.com/SqueakClassesRef.html"><font
size="2">Squeakクラスリファレンス</font></a><font
size="2">も見てください。</font></p>

<hr align="left">

<h2><a name="UsingSqueak">Squeakを使おう:基礎編</a></h2>

<menu>
    <li><a href="#UsingMousing">マウス関係</a> </li>
    <li><a href="#UsingMenus">システムメニュー</a> </li>
    <li><a href="#UsingBindings">システムキーバインド</a>
    </li>
</menu>

<h3><a name="UsingMousing">マウス関係</a></h3>

<p>Squeak（とSqueakを生み出したSmalltalk-80）は、３ボタン（または３ボタン相当の）マウス付きのコンピュータを前提にしています。これらのボタンは、それぞれ「赤ボタン」「黄ボタン」「青ボタン」と呼ばれています。赤ボタンは、「モノ」を選択する際に使います。黄ボタンは、ウィンドウの中の「モノ」を操作する際に使います。青ボタンは、ウィンドウそのものを操作する際に使います。ただし、これらの規則は慣例的なもので、いつもそうという訳ではありません。</p>

<p>多くの今時のマウスは３ボタンではなく、また、ボタンは色付ではないので、様々な対応付けが用いられています。</p>

<p>色付でない３ボタンマウスでは、通常の対応付けは以下の通りです。</p>

<blockquote>
    <table border="0" cellpadding="0" cellspacing="0" width="200">
        <tr>
            <td width="90">左ボタン</td>
            <td align="middle" width="20"><p align="left"><code>-&gt;</code></p>
            </td>
            <td>赤</td>
        </tr>
        <tr>
            <td width="90">中央ボタン</td>
            <td align="middle" width="20"><p align="left"><code>-&gt;</code></p>
            </td>
            <td>黄</td>
        </tr>
        <tr>
            <td width="90">右ボタン</td>
            <td align="middle" width="20"><p align="left"><code>-&gt;</code></p>
            </td>
            <td>青</td>
        </tr>
    </table>
</blockquote>

<p><img src="squeak-qref.files/MyMouse.gif" align="right"
hspace="0" width="143" height="227">３ボタンマウスのWindowsマシンで、この対応付けにするには、SqueakのWindowsタイトルバーを右クリックして、<i>VM
Preferences </i>&gt;&gt;<i> Use 3 button mouse mapping</i>を選択します。デフォルトの対応付けは、以下の通りです（２ボタンマウス用です）。</p>

<blockquote>
    <table border="0" cellpadding="0" cellspacing="0" width="200">
        <tr>
            <td width="90">左ボタン</td>
            <td align="middle" width="20"><p align="left"><code>-&gt;</code></p>
            </td>
            <td>赤</td>
        </tr>
        <tr>
            <td width="90">右ボタン</td>
            <td align="middle" width="20"><p align="left"><code>-&gt;</code></p>
            </td>
            <td>黄</td>
        </tr>
        <tr>
            <td width="90">Alt+左ボタン</td>
            <td align="middle" width="20"><p align="left"><code>-&gt;</code></p>
            </td>
            <td>青</td>
        </tr>
    </table>
</blockquote>

<p>MacOSでは基本的に１ボタンマウスを使用していますので、対応付けは以下のものが使われています。</p>

<blockquote>
    <table border="0" cellpadding="0" cellspacing="0" width="200">
        <tr>
            <td>ボタン</td>
            <td align="middle" width="20"><p align="left"><code>-&gt;</code></p>
            </td>
            <td>赤</td>
        </tr>
        <tr>
            <td>Option+ボタン</td>
            <td align="middle" width="20"><p align="left"><code>-&gt;</code></p>
            </td>
            <td>黄</td>
        </tr>
        <tr>
            <td><img src="squeak-qref.files/clover.gif"
            width="12" height="10">+ボタン</td>
            <td align="middle" width="20"><p align="left"><code>-&gt;</code></p>
            </td>
            <td>青</td>
        </tr>
    </table>
</blockquote>

<p>３ボタンマウスを購入することをお勧めします。私は指を馴染ませる間、ボタンにラベルで色をつけていました。また、上の対応付けとは違う対応付けを選択しました。</p>

<p>もしスクロール用のホイールマウスを持っているなら、&quot;wheel
up&quot;をcommand-upArrowに、&quot;wheel down&quot;をcommand-downArrowに対応付けるとよいでしょう。Squeakでスクロールするのにホイールを使うことができるようになります。（訳注：バージョン3.2では最初から対応付けられています。）</p>

<h3><a name="UsingMenus">システムメニュー</a></h3>

<p>Squeakでは、以下のような色々なシステムメニューを通してSmalltalkの機能(service)を使うことができます。（訳注：バージョン3.2では若干変更されています。）</p>

<p><img src="squeak-qref.files/menus.gif" width="659"
height="472" naturalsizeflag="3"></p>

<p><strong>ワールドメニュー。</strong>　時々「メインメニュー」と呼ばれるこのワールドメニューは、システムプロジェクト（訳注：プロジェクトについては、Squeakを最初に立ち上げた時の&quot;<a
href="welcome.htm">Welcome to...</a>&quot;ウィンドウを参照してください）の背景のところで赤ボタンをクリックすることで呼び出せます。このメニューを使って、イメージファイルやチェンジファイルを保存したり、別名で保存したり、Squeak仮想マシンの実行を終了させたりできます。また、下の４つのメニューを含む、たくさんのほかのメニューを呼び出すことができます。</p>

<p><b>オープンメニュー</b>は、システムブラウザや、ワークスペース、チェンジソータ、トランスクリプト、ファイルリスト、更にはメーラ(Celeste)、ウェッブブラウザ(Scamper)を含む、様々なシステムツールを起動することができます。</p>

<p><b>ヘルプメニュー</b>は、オンラインヘルプの他に、プレファレンスダイアログや、環境に関する問い合わせ、Genieなどの辞書を（訳注：この２つ、何についての話なのかよくわかりませんでした）呼び出したり、Squeakのアップデート機能(facilities)を呼び出せます。</p>

<p><b>ウィンドウ＆フラップメニュー</b>（訳注：バージョン3.2では、ウィンドウメニューとフラップメニューは別々に用意されています）では、システムウィンドウや（モーフィックでの）フラップを操作するための機能(service)を呼び出せます。フラップはスクリーンの枠についた小さなタブのことで、タブをクリックすることで引き出しのように引き出して、そこに置いたもの何でもすばやくアクセスすることができます。是非使ってみてください。オープンメニューを使うよりむしろ、<em>Tools</em>フラップを使うと、簡単に新たなシステムツールを取り出すことができます。</p>

<p><strong>概観(appearance)メニュー</strong>では、システムの概観の色々な点を変えることができます。特に、画面の色設定を調整したり、フルスクリーンモードの切り替えを行うことができます。</p>

<h3><a name="UsingBindings">システムキーバインド</a></h3>

<p>システムブラウザやワークスペース、ファイルリスト、トランスクリプトを含む、Squeakの標準テキストコンテナウィジェットを使うアプリケーションでは、テキスト操作や、他のシステム機能(functionality)へのアクセス方法(facility)を提供します。これらの機能(facility)の多くは、赤ボタンメニューを使って呼び出すことができますが、多くは、もっと簡単に、特殊キーの組み合わせを使って呼び出すことができます。特殊なアプリケーションでは、このコマンドキーのサポートはまちまちです。WindowsではAltキーと一緒に、MacOSでは<img
src="squeak-qref.files/clover.gif" width="12" height="10"
naturalsizeflag="3">キーと一緒に、下記のテーブルにある文字を押すことでコマンドキーを入力することができます。大文字の場合には、ShiftキーとAlt(<img
src="squeak-qref.files/clover.gif" width="12" height="10"
naturalsizeflag="3">)キーを同時に押すか、ctrlキーを該当する文字を押すことでコマンドキーを入力することができます。</p>

<p>（訳注：Windowsの通常のアプリケーションではカット＆ペーストなどはctrlキーで実行します。Squeak上でAltキーとctrlキーをひっくり返すには、World
Menu-&gt;appearance...-&gt;preferences...-&gt;general-&gt;swapControlAndAltKeysをオンにします。）</p>

<h4 align="center">一般的な編集コマンド</h4>
<div align="center"><center>

<table border="1" cellpadding="3" width="85%" bgcolor="#FFFFCC">
    <tr>
        <td bgcolor="#FFCC99"><b>キー</b></td>
        <td bgcolor="#FFCC99"><p align="center"><b>記述</b></p>
        </td>
        <td bgcolor="#FFCC99"><b>備考</b></td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">z</td>
        <td bgcolor="#FFCC99">元に戻します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">x</td>
        <td bgcolor="#FFCC99">切り取ります。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">c</td>
        <td bgcolor="#FFCC99">コピーします。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">v</td>
        <td bgcolor="#FFCC99">貼り付けます。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">a</td>
        <td bgcolor="#FFCC99">すべてを選択します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">D</td>
        <td bgcolor="#FFCC99">複製します。直前の選択範囲に現在の選択範囲を（もしそれぞれの部分がオーバーラップしていなければ）貼り付けます。</td>
        <td bgcolor="#FFCC99">1</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">e</td>
        <td bgcolor="#FFCC99">交換します。直前の選択範囲と現在の選択範囲を交換します。</td>
        <td bgcolor="#FFCC99">1</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">y</td>
        <td bgcolor="#FFCC99">スワップします。
        選択範囲がなければ、カーソルの前後の文字を交換し、カーソルを進めます。<br>
        選択範囲が２文字ならば、それらを交換し、カーソルを進めます。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">w</td>
        <td bgcolor="#FFCC99">カーソル前の単語を削除します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
</table>
</center></div>

<p align="center">備考</p>

<ol>
    <li>これらのコマンドは若干普通と異なります。これらのコマンドは、現在の選択範囲だけでなく、直前の選択範囲も考慮し、影響を与えます。</li>
</ol>

<h4>検索と置換</h4>
<div align="center"><center>

<table border="1" cellpadding="3" width="85%" bgcolor="#FFFFCC">
    <tr>
        <td bgcolor="#FFCC99"><b>キー</b></td>
        <td bgcolor="#FFCC99"><p align="center"><b>記述</b></p>
        </td>
        <td bgcolor="#FFCC99"><b>備考</b></td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">f</td>
        <td bgcolor="#FFCC99">検索します。ダイアログに入力した文字列を検索文字列として設定し、検索文字列が現れた場所へカーソルを進めます。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">g</td>
        <td bgcolor="#FFCC99">再検索します。検索文字列が次に現れた場所へカーソルを進めます。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">h</td>
        <td bgcolor="#FFCC99">選択範囲を検索文字列として設定します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">j</td>
        <td bgcolor="#FFCC99">繰り返します。（直前のテキスト関連の操作を繰り返します。）</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">A</td>
        <td bgcolor="#FFCC99">次の引数へ移動します。次のキーワード引数に（もしくはもしキーワード引数が残っていなければ文字列の終わりに）カーソルを進めます。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">J</td>
        <td bgcolor="#FFCC99">最後まで繰り返します。（直前のテキスト関連の操作をテキストの終わりまで繰り返します。）</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">S</td>
        <td bgcolor="#FFCC99">Search.（訳注：バージョン3.2では、ウィンドウ全体が一瞬フラッシュします。機能がよくわかりませんでした。）</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
</table>
</center></div>

<h4>キャンセル／承諾(accept)</h4>
<div align="center"><center>

<table border="1" cellpadding="3" width="85%" bgcolor="#FFFFCC">
    <tr>
        <td bgcolor="#FFCC99"><b>キー</b></td>
        <td bgcolor="#FFCC99"><p align="center"><b>記述</b></p>
        </td>
        <td bgcolor="#FFCC99"><b>備考</b></td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">l</td>
        <td bgcolor="#FFCC99">Cancel (also &quot;revert&quot;).
        枠(pane)をオープンしてからの編集、もしくは最後の承諾からの編集すべてをキャンセルします。
        </td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">s</td>
        <td bgcolor="#FFCC99">Accept (also &quot;save&quot;).
        現在の枠(pane)でされた変更を承諾します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">o</td>
        <td bgcolor="#FFCC99">Spawn. 枠(pane)の現在の中身を含む新しいウィンドウをオープンし、このウィンドウを最後に承諾した状態にリセットします。<br>
        （すなわち、現在のウィンドウをキャンセルします。）</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
</table>
</center></div>

<h4>ブラウズとインスペクト</h4>
<div align="center"><center>

<table border="1" cellpadding="3" width="85%" bgcolor="#FFFFCC">
    <tr>
        <td bgcolor="#FFCC99">キー</td>
        <td bgcolor="#FFCC99"><p align="center"><b>記述</b></p>
        </td>
        <td bgcolor="#FFCC99"><b>備考</b></td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">b</td>
        <td bgcolor="#FFCC99">&quot;それ&quot;をブラウズします。（&quot;それ&quot;はクラス名。）新たなブラウザを開きます。</td>
        <td bgcolor="#FFCC99">1</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">d</td>
        <td bgcolor="#FFCC99">&quot;それ&quot;を実行します。（&quot;それ&quot;はSqueak式です。）</td>
        <td bgcolor="#FFCC99">1</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">i</td>
        <td bgcolor="#FFCC99">&quot;それ&quot;を調べます。:&quot;それ&quot;を評価して、その結果についてインスペクタを開きます。(&quot;それ&quot;はSqueak式です。）<br>
        例外:メソッドリスト枠ではiは継承ブラウザを開きます。</td>
        <td bgcolor="#FFCC99">1</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">m</td>
        <td bgcolor="#FFCC99">&quot;それ&quot;を実装しているメソッドのブラウザを開きます。（&quot;それ&quot;はメッセージセレクタです。）</td>
        <td bgcolor="#FFCC99">1,2</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">n</td>
        <td bgcolor="#FFCC99">&quot;それ&quot;を送るメソッドのブラウザを開きます。（&quot;それ&quot;はメッセージセレクタです。）</td>
        <td bgcolor="#FFCC99">1,2</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">p</td>
        <td bgcolor="#FFCC99">&quot;それ&quot;を出力します。&quot;それ&quot;を評価して、&quot;それ&quot;の直後に結果を挿入します。（&quot;それ&quot;はSmalltalk式です。）</td>
        <td bgcolor="#FFCC99">1</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">B</td>
        <td bgcolor="#FFCC99">&quot;それ&quot;を<i>同一ブラウザ</i>でブラウズします（システムブラウザ内のみ）。（&quot;それ&quot;はクラス名です。）</td>
        <td bgcolor="#FFCC99">1</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">E</td>
        <td bgcolor="#FFCC99">コードの中に&quot;それ&quot;を文字列として含むメソッドのブラウザを開きます。</td>
        <td bgcolor="#FFCC99">1</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">I</td>
        <td bgcolor="#FFCC99">オブジェクトイクスプローラを使って、&quot;それ&quot;を調べます。（&quot;それ&quot;は式です。）</td>
        <td bgcolor="#FFCC99">1</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">N</td>
        <td bgcolor="#FFCC99">&quot;それ&quot;を使っているメソッドのブラウザを開きます。（&quot;それ&quot;は識別子もしくはクラス名です。）</td>
        <td bgcolor="#FFCC99">1</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">O</td>
        <td bgcolor="#FFCC99">（メッセージリスト内で）シングルメッセージブラウザを開きます。</td>
        <td bgcolor="#FFCC99">1</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">W</td>
        <td bgcolor="#FFCC99">&quot;それ&quot;を文字列として含むセレクタのメソッドのブラウザを開きます。</td>
        <td bgcolor="#FFCC99">1</td>
    </tr>
</table>
</center></div>

<p>備考:</p>

<ol>
    <li>選択範囲がない場合、単語もしくは現在の行に選択範囲が拡張されます。</li>
    <li>選択範囲が広い場合、これらの操作では、&quot;それ&quot;は<i>一番外側の</i>のキーワードセレクタを示します。</li>
</ol>

<h4>特殊な変換と処理</h4>
<div align="center"><center>

<table border="1" cellpadding="3" width="85%" bgcolor="#FFFFCC">
    <tr>
        <td bgcolor="#FFCC99"><b>キー</b></td>
        <td bgcolor="#FFCC99"><p align="center"><b>記述</b></p>
        </td>
        <td bgcolor="#FFCC99"><b>備考</b></td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">C</td>
        <td bgcolor="#FFCC99">クリップボードの中身と枠内の内容(argument)を比較して、ワークスペースを開いて結果を表示します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">U</td>
        <td bgcolor="#FFCC99">選択範囲の中のラインフィードをキャリッジリターンに変換します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">X</td>
        <td bgcolor="#FFCC99">選択範囲の中をすべて小文字に変換します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">Y</td>
        <td bgcolor="#FFCC99">選択範囲の中をすべて大文字に変換します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">Z</td>
        <td bgcolor="#FFCC99">選択範囲の中の単語の頭文字を大文字に変換します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
</table>
</center></div>

<h4>Smalltalkプログラムデータ登録(Program Data Entry)</h4>
<div align="center"><center>

<table border="1" cellpadding="3" width="85%" bgcolor="#FFFFCC">
    <tr>
        <td bgcolor="#FFCC99"><b>キー</b></td>
        <td bgcolor="#FFCC99"><p align="center"><b>記述</b></p>
        </td>
        <td bgcolor="#FFCC99"><b>備考</b></td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">q</td>
        <td bgcolor="#FFCC99">カーソルの前の文字列をプレフィックスとするシンボルを挿入します。再度押すと次の候補に変換します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">r</td>
        <td bgcolor="#FFCC99">Squeakの絵文字認識を呼び出します。（ウィンドウの外にマウスを移動させると、認識を終了します。）</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">F</td>
        <td bgcolor="#FFCC99">'ifFalse:'を挿入します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">T</td>
        <td bgcolor="#FFCC99">'ifTrue:'を挿入します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">V</td>
        <td bgcolor="#FFCC99">名前(initial)を入力すると、名前と日時を挿入します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">L</td>
        <td bgcolor="#FFCC99">インデントを１つ下げます。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">R</td>
        <td bgcolor="#FFCC99">インデントを１つ上げます。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">[Alt-return]</td>
        <td bgcolor="#FFCC99">現在の行と同じインデントの行を挿入します。（&quot;[&quot;、&quot;]&quot;に応じてインデントを調整します。）</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">[shift-delete]</td>
        <td bgcolor="#FFCC99">カーソル位置から次の単語の先頭まで消去します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
</table>
</center></div>

<h4>括弧キー</h4>

<p>これらのキーは、選択範囲を&quot;括弧&quot;で囲む（既に囲まれている場合には括弧を消す）のに使われます。括弧で囲まれたテキストの中をダブルクリックするだけで、括弧内のテキスト全体（括弧は含まない）を選択することができます。（訳注：バージョン3.2のcommand-key
helpを参照すると、括弧キーはすべてのプラットフォーム利用可能というわけでなく、実際、Windows版では機能しませんでした。）</p>
<div align="center"><center>

<table border="1" cellpadding="3" width="85%" bgcolor="#FFFFCC">
    <tr>
        <td bgcolor="#FFCC99"><b>キー</b></td>
        <td bgcolor="#FFCC99"><p align="center"><b>記述</b></p>
        </td>
        <td bgcolor="#FFCC99"><b>備考</b></td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">Control-(</td>
        <td bgcolor="#FFCC99">(と)で囲みます、または、(
        )を消します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">Control- [</td>
        <td bgcolor="#FFCC99">[と]で囲みます、または、[
        ]を消します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">Control- {</td>
        <td bgcolor="#FFCC99">{と}で囲みます、または、{
        }を消します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">Control- &lt;</td>
        <td bgcolor="#FFCC99">&lt;と&gt;で囲みます、または、&lt;
        &gt;を消します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">Control- '</td>
        <td bgcolor="#FFCC99">'と'で囲みます、または、'
        'を消します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">Control- &quot;</td>
        <td bgcolor="#FFCC99">&quot;と&quot;で囲みます、または、&quot;
        &quot;を消します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
</table>
</center></div>

<h4><a name="TextStyle">テキストスタイルや強勢を変えるキー</a></h4>

<p>（訳注：swapControlAndAltKeysをオンにしても、このテーブルには影響ありませんでした(Squeak
3.5)。swapControlAndAltKeysのオンオフに関わらず、Altキーと一緒に使ってください。）</p>
<div align="center"><center>

<table border="1" cellpadding="3" width="85%" bgcolor="#FFFFCC">
    <tr>
        <td bgcolor="#FFCC99"><b>キー</b></td>
        <td bgcolor="#FFCC99"><p align="center"><b>記述</b></p>
        </td>
        <td bgcolor="#FFCC99"><b>備考</b></td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">k</td>
        <td bgcolor="#FFCC99">フォントを設定します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">u</td>
        <td bgcolor="#FFCC99">配置を変更します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">K</td>
        <td bgcolor="#FFCC99">スタイルを設定します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">1</td>
        <td bgcolor="#FFCC99">１０ポイントフォントにします。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">2</td>
        <td bgcolor="#FFCC99">１２ポイントフォントにします。（日本語では１０ポイントフォントになるようです。）</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">3</td>
        <td bgcolor="#FFCC99">１８ポイントフォントにします。（日本語では１０ポイントフォントになるようです。）</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">4</td>
        <td bgcolor="#FFCC99">２４ポイントフォントにします。（日本語では１０ポイントフォントになるようです。）</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">5</td>
        <td bgcolor="#FFCC99">３６ポイントフォントにします。（日本語では１０ポイントフォントになるようです。）</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">6</td>
        <td bgcolor="#FFCC99">色の選択やクリック時のアクション、クラスコメントへのリンク、メソッドやURLへのリンクなどを設定するためのメニューを表示します。<br>
        これらの属性を取り除くには、該当のアクティブな部分を含む領域を選択して、command-0を押します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">7</td>
        <td bgcolor="#FFCC99">ボールドにします。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">8</td>
        <td bgcolor="#FFCC99">イタリックにします。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">9</td>
        <td bgcolor="#FFCC99">ナローにします（negative
        kernと一緒です）。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">0</td>
        <td bgcolor="#FFCC99">プレーンテキストにします。（すべての強勢を取り除きます。）</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">- (minus)</td>
        <td bgcolor="#FFCC99">アンダーラインにします。（もう一度押すとアンダーラインが消えます。)（日本語ではまだサポートされていないようです。）</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">=</td>
        <td bgcolor="#FFCC99">強調します(struck out) (もう一度押すと強調が消えます。)（訳注：１０６日本語キーボードではキーアサインが変わるようです。）</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">_ (別名 shift -)</td>
        <td bgcolor="#FFCC99">negative kern (文字を１ピクセル近づけます。）</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99">+ (別名 shift =)</td>
        <td bgcolor="#FFCC99">positive kern (文字を１ピクセル離します。）（訳注：１０６日本語キーボードでは=
        (別名 shift -)です。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
</table>
</center></div>

<hr align="left">

<h2><a name="Syntax">Squeak Smalltalkシンタックス:基礎編</a></h2>

<menu>
    <li><a href="#SyntaxKeywords">擬似変数</a> </li>
    <li><a href="#SyntaxIdentifiers">識別子</a> </li>
    <li><a href="#SyntaxComments">コメント</a> </li>
    <li><a href="#SyntaxLiterals">リテラル</a> </li>
    <li><a href="#SyntaxAssignments">代入</a> </li>
    <li><a href="#SyntaxMessages">メッセージ</a> </li>
    <li><a href="#ExpressionSequences">式列</a> </li>
    <li><a href="#SyntaxCascades">カスケード</a> </li>
    <li><a href="#SyntaxBlocks">式ブロック</a> </li>
    <li><a href="#SyntaxControl">制御構造</a> </li>
    <li><a href="#BraceArray">大括弧配列</a> </li>
    <li><a href="#Class Definition">クラス定義</a> </li>
    <li><a href="#Method Definition">メソッド定義</a> </li>
</menu>

<h3><a name="SyntaxKeywords">擬似変数</a></h3>
<div align="center"><center>

<table border="1" cellpadding="3" width="85%" bgcolor="#FFFFCC">
    <tr>
        <td bgcolor="#FFCC99"><b>擬似変数</b></td>
        <td bgcolor="#FFCC99"><p align="center"><b>記述</b></p>
        </td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>nil</b></td>
        <td bgcolor="#FFCC99">UndefinedObjectクラスの唯一のインスタンス</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>true</b></td>
        <td bgcolor="#FFCC99">Trueクラスの唯一のインスタンス</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>false</b></td>
        <td bgcolor="#FFCC99">Falseクラスの唯一のインスタンス</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>self</b></td>
        <td bgcolor="#FFCC99">メソッドの中で、そのメソッドに対応するメッセージのレシーバオブジェクトを示す擬似変数です。。つまり、現在処理中のオブジェクトです。。</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>super</b></td>
        <td bgcolor="#FFCC99"><b>super</b>は<b>self</b>と同じオブジェクトを示しますが、<b>super</b>にメッセージが送られた場合、スーパークラスのメソッドを実行します。</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>thisContext</b></td>
        <td bgcolor="#FFCC99">アクティブコンテキスト、すなわち、&quot;現在実行中の&quot;MethodContextかBlockContextです。</td>
    </tr>
</table>
</center></div>

<ul>
    <li>擬似変数は、ほかの言語のキーワードと同様に、予約識別子です。</li>
    <li><b>nil</b>と<b>true</b>、<b>false</b>は定数です。</li>
    <li><b>self</b>と<b>super</b>、<b>thisContext</b>は、コードが実行されると、動的に変化します。</li>
    <li>これらの擬似変数どれにも代入はできません。<br>
        </li>
</ul>

<h3><a name="SyntaxIdentifiers">識別子</a></h3>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 文字 ( 文字 |
数字 )*</p>

<ul>
    <li>Smalltalkの識別子（とシンボル）は<b>大文字小文字の区別</b>があります。
    </li>
    <li>いくつかの単語からなる識別子（インスタンスやtemporaries）は、小文字で始めて、続く単語の頭文字を大文字にするのがSmalltalkの慣例です。(<i>例えば</i>、thisIsACompoundIdentifier).
    </li>
    <li>特定の識別子、例えばグローバル変数（<i>例えば</i>、Smalltalk)、クラス変数は、頭文字を大文字にするのが慣例です。クラス名もすべてグローバル変数です。(<i>例えば</i>、SystemDictionary)<br>
        </li>
</ul>

<h3><a name="SyntaxComments">コメント</a></h3>

<p><b>&quot;</b>ダブルコーテーションで囲むとコメントになります。<b>&quot;<br>
&quot;</b>コメントは'シングルコーテーション(string
delimiting)'を含むことができます。<b>&quot;<br>
&quot;</b>ダブルコーテーションを&quot;&quot;二重&quot;&quot;にすると、コメントの中でダブルコーテーションを使うことができます。<b>&quot;<br>
&quot;</b>コメントは、<br>
複<br>
数<br>
の<br>
行にまたがることができます<b>&quot;<br>
</b></p>

<h3><a name="SyntaxLiterals">リテラル（定数表現）</a></h3>

<h4>数 (Numberクラスのインスタンス)</h4>

<p>以下では、==&gt;は、&quot;・・・と出力される&quot;という意味です。</p>

<p>１０進整数: <b>1234</b>, <b>12345678901234567890</b><br>
８進整数: <b>8r177</b>, <b>8r1777777777777777777777</b><br>
１６進整数: <b>16rFF</b>, <b>16r123456789ABCDEF012345</b><br>
任意の基数の整数: <b>2r1010</b> ==&gt; 10<br>
整数の指数表現: <b>123e2</b> ==&gt; 12300, <b>2r1010e2</b>
==&gt; 40<br>
浮動小数点数（倍精度）: <b>3.14e-10</b><br>
任意の基数の浮動小数点数: <b>2r1.1</b> ==&gt; 1.5<br>
浮動小数点数の指数表現: <b>2r1.1e2</b> ==&gt; 6.0</p>

<ul>
    <li>Squeakには、高速な内部プリミティブの演算をサポートするSmallIntegerクラス（-2<sup>30</sup>から2<sup>30-1</sup>までの整数）があります。</li>
    <li>Squeakは、任意精度の演算をシームレスにサポートします。（必要に応じて自動的に、SmallIntegerからLargePositiveIntegerやnegativeIntegerに変換します。）処理速度への影響はわずかです。</li>
    <li>Squeakは、Fraction（分数、任意精度の有理数）やPoint（２次元座標）など、ほかの種類の&quot;数&quot;値クラスをサポートします。これらのオブジェクトの定数表現はありませんが、用意された定数表現の演算の形で自然に表現されます。（それぞれ、&quot;2/3&quot;や&quot;2@3&quot;）
    </li>
    <li>数は、色々な基数(radix)で表現できますが、基数自体は常に１０進表現です。指数表現の指数部も基数と同様です。従って:
        <b>2r1010</b> ==&gt; 10, <b>10e2</b> ==&gt; 1000 (=10 x
        10<sup>2</sup>), but <b>2r1010e2</b> ==&gt; 40 (=10 x 2<sup>2</sup>)
    </li>
</ul>

<h4>文字（Characterクラスのインスタンス）</h4>

<p><b>$x</b> &quot;文字の定数表現はドル記号＋（プリント不可能なものでも）該当文字で表現されます。&quot;<br>
<b>$3</b> &quot;数字についても、&quot;<br>
<b>$&lt;</b> &quot;シンボルについても、&quot;<br>
<b>$$</b> &quot;ドル記号でも同様です&quot;</p>

<h4>文字列（Stringクラスのインスタンス）</h4>

<p><b>'</b>文字列はシングルコーテーション<b>'で囲まれた文字の任意の列からなります。<br>
'</b>文字列は&quot;コメント区切り&quot;文字を含むことができます。<b>'<br>
'</b>文字列にシングルコーテーションを含めるには、シングルコーテーションを''二重にします。<b>'<br>
'</b>文字列は、改行文字を<br>
含むことができます。<b>'<br>
''</b> &quot;空文字列もお忘れなく。&quot;</p>

<ul>
    <li>文字列は文字を含む配列と非常に似ています（&quot;同質&quot;です。）。文字列を１から始まるインデックスで参照すると、対応する位置の文字が返ります。</li>
</ul>

<h4>シンボル（Symbolクラスのインスタンス）</h4>

<p><b>#'</b>井桁記号に続く文字列はシンボルです。<b>'<br>
#</b>井桁文字で始まる任意の識別子<br>
<b>#</b>コロンで終わる識別子:<br>
<b>#</b>それぞれが:コロン:で:終わる:いくつかの:識別子:<br>
<b>#</b>- &nbsp;&nbsp;&nbsp;&nbsp;&quot;井桁に'-'など特殊文字がついたものもシンボルです。&quot;<br>
<b>#</b>+&lt; &nbsp;&quot;井桁に特殊文字の任意の二文字をつけたものもシンボルです。&quot;</p>

<ul>
    <li>SymbolはStringのサブクラスです。大部分において同じメッセージを理解します。</li>
    <li>シンボルと文字列の主な違いは、同じ文字列からなるシンボルはすべて、同じインスタンスであるというところです。２つの異なる文字列インスタンスが例えば'test
        one two three'という内容を持つことができますが、#'test
        one two three'というシンボルはすべて同じインスタンスです。この&quot;唯一のインスタンス&quot;という性質のおかげで、Symbolを効率的に比較することができます。シンボルでは、等しいこと(=)と同一であること(==)が同じだからです。</li>
    <li>&quot;コロン付きの識別子&quot;のシンボル（<i>例えば</i>#a:keyword:selector:)は、しばしば、キーワードセレクタとして参照されます。理由は後で明らかになるでしょう。</li>
    <li>&quot;シングルもしくはデュアルシンボル&quot;（<i>例えば</i>#*
        or #++）は、しばしば、バイナリセレクタとして参照されます。</li>
    <li>以下は許されている特殊文字です。: +/*\~&lt;=&gt;@%|&amp;?!
    </li>
    <li>#--はシンボルでもバイナリセレクタでもないことに注意してください。一方、#'--'はシンボル<i>です</i>。(しかし、バイナリセレクタではないです。）</li>
</ul>

<h4>定配列（Arrayクラスのインスタンス）</h4>

<p><b>#(</b> 1 2 3 4 5 <b>)</b> &quot;５つの整数（１から５）からなる、サイズが５の配列&quot;<br>
<b>#(</b> 'this' #is $a #'constant' array <b>)</b> &quot;String ('this')とSymbol
(#is)、Character ($a)と２つのSymbol（#constantと#array）からなる、サイズが５の配列&quot;<br>
<b>#(</b> 1 2 ( 1 #(2) 3 ) 4 <b>)</b> &quot;２つの整数（１と２）と、サイズが３の配列、もう１つの整数（４）からなる、サイズが４の配列。&quot;<br>
<b>#(</b> 1 + 2 <b>)</b> &quot;1, #+, and 2からなる、サイズが３の配列。3からなるサイズが１の配列<i>ではない</i>。&quot;</p>

<ul>
    <li>定配列は固定値です。それ故にそれらの要素も定数でなければいけません。上の例のように、&quot;式&quot;は評価されず、一般に、シンボルの列としてパースされます。</li>
    <li>定配列は、定配列を含むことができます。内部の定配列のための井桁は省略可能(optional)です。</li>
    <li>定配列の中の識別子や文字列(sequences of
        characters)はシンボルとして扱われます。;内部のシンボルのための井桁記号は省略可能です。</li>
    <li>配列は、インデックス１で最初の要素を指定できます。</li>
</ul>

<h3><a name="SyntaxAssignments">Assignments</a></h3>

<blockquote>
    <p>識別子<img src="squeak-qref.files/arrow.gif"
    align="top" width="14" height="13" naturalsizeflag="3">&nbsp;
    式<br>
    識別子 :=&nbsp; 式&nbsp;&nbsp;&nbsp;&nbsp;&quot;
    いつでも、:= を<img src="squeak-qref.files/arrow.gif"
    align="top" width="14" height="13" naturalsizeflag="3">の代わりに使うことができます。but
    the pretty printer uses <img
    src="squeak-qref.files/arrow.gif" align="top" width="14"
    height="13" naturalsizeflag="3">&quot;<br>
    </p>
</blockquote>

<p>foo <img src="squeak-qref.files/arrow.gif" align="top"
width="14" height="13" naturalsizeflag="3"> 100 factorial<br>
foo <img src="squeak-qref.files/arrow.gif" align="top" width="14"
height="13" naturalsizeflag="3"> bar <img
src="squeak-qref.files/arrow.gif" align="top" width="14"
height="13" naturalsizeflag="3"> 1000 factorial</p>

<ul>
    <li>（インスタンス変数であれ、クラス変数であれ、テンポラリ変数であれ、他であれ）識別子は、割り当て後、式の評価結果のオブジェクトを参照します。</li>
    <li>The &quot;<img src="squeak-qref.files/arrow.gif"
        align="top" width="14" height="13" naturalsizeflag="3">&quot;
        絵文字は、Squeakの中では、アンダーバーで入力できます。
    </li>
    <li>割り当て自体が式です。割り当て式は、右辺の評価の結果を返します。</li>
    <li>割り当ては、上のようにカスケードできます。右辺の評価結果であるオブジェクトをそれぞれの変数が参照するようになります。</li>
</ul>

<h3><a name="SyntaxMessages">メッセージ</a></h3>

<h4>単項メッセージ</h4>

<p>theta sin<br>
quantity sqrt<br>
nameString size<br>
1.5 tan rounded asString &quot;(((1.5 tan) rounded) asString)と同じ結果&quot;</p>

<ul>
    <li>単項メッセージは引数のないメッセージです。</li>
    <li>単項メッセージは最も&quot;優先順位高くパース&quot;されます。また、単項メッセージが並んでいる場合、左から右へパースされます。従って、最後の例は1.5に#tanを送った結果に#roundedを送り、その結果に#asStringを送った結果を返します。</li>
</ul>

<h4>二項メッセージ</h4>

<p>3 + 4 &quot; ==&gt; 7 &quot;<br>
3 + 4 * 5 &quot; ==&gt; 35 (<b>not</b> 23) &quot;<br>
3 + 4 factorial &quot; ==&gt; 27 (<b>not</b> 5040) &quot;<br>
total - 1<br>
total &lt;= max&nbsp;&nbsp;&quot;もしtotalがmax以下ならばtrue&quot;<br>
(4/3)*3 = 4 &quot;==&gt; true なぜ？等号も二項メッセージの１つだから、またFractionは厳密だから、trueを返します。&quot;<br>
(3/4) == (3/4) &quot;==&gt; false なぜ？２つの等しいFractionですが、これらは同じオブジェクトではないから、falseを返します&quot;</p>

<ul>
    <li>二項メッセージの場合、左側にレシーバ、右側に引数が１つ現れます。
        上の最初の式では、引数4のセレクタ#+からなるメッセージを3に送ります。</li>
    <li>二項メッセージは、数演算の優先順位に関わらず、括弧で指定しない限り、<em>いつも</em>左から右にパースされます。</li>
    <li>単項メッセージは、二項メッセージよりも優先順位が高いです。</li>
</ul>

<h4>キーワードメッセージ</h4>

<p>12 between: 8 and: 15 &quot; ==&gt; true &quot;<br>
#($t $e $s $t) at: 3 &quot; ==&gt; $s &quot;<br>
array at: index put: value &quot;==&gt; valueをarrayのindex位置に入れた後、valueを返します。&quot;<br>
array at: index factorial put: value &quot;valueをarrayのindex
factorial位置に入れた後、valueを返します。&quot;<br>
1 to: 3 do: aBlock &quot;これは、（引数２つと一緒に）#to:do:整数1に送ります&quot;<br>
(1 to: 3) do: aBlock &quot;これは、（引数１つと一緒に）#do:を、'1
to: 3'を評価した結果返されるIntervalに送ります。&quot;</p>

<ul>
    <li>キーワードメッセージは１つ以上の引数を伴います。</li>
    <li>キーワードメッセージは、一番優先順位が弱いメッセージです。括弧で指定しない限り、単項メッセージと二項メッセージが先に解決されます。<br>
        </li>
</ul>

<h3><a name="ExpressionSequences">式の列</a></h3>

<blockquote>
    <p>expressionSequence ::= expression (. expression)* (.)<sup>opt</sup></p>
</blockquote>

<pre>box <img src="squeak-qref.files/arrow.gif" align="top"
width="14" height="13" naturalsizeflag="3"> 20@30 corner: 60@90.
box containsPoint: 40@50</pre>

<ul>
    <li><em>ピリオド</em>で区切られた式は、順に実行されます。</li>
    <li>列の値は、最後の式の値になります。</li>
    <li>他の式のすべての値は無視されます。</li>
    <li>最後のピリオドは必ずしも必要ありません。<br>
        </li>
</ul>

<h3><a name="SyntaxCascades">カスケード式</a></h3>

<pre>receiver
&nbsp;&nbsp;&nbsp;&nbsp;unaryMessage;
&nbsp;&nbsp;&nbsp;&nbsp;+ 23;
&nbsp;&nbsp;&nbsp;&nbsp;at: 23 put: value;
&nbsp;&nbsp;&nbsp;&nbsp;yourself</pre>

<ul>
    <li>カスケードの中のメッセージは、<em>セミコロン</em>で区切られます。それぞれのメッセージは、<code>receiver</code>に順に送られます。</li>
    <li>途中の戻り値は無視されますが、<code>receiver</code>の変化(side-effect)は保たれます。</li>
    <li>カスケードは、（途中のメッセージをすべて送った後、）最後のメッセージを<code>receiver</code>に送った結果を返します。<br>
        </li>
</ul>

<h3><a name="SyntaxBlocks">ブロック式</a></h3>

<p>ブロックは、実際にはBlockContextクラスのインスタンスです。
ブロックは、制御構造を記述(build)する時必ず使われます。
ブロックは、式の列の回りを囲む<b>[ ]</b>シンタックスを使って作られます。</p>

<blockquote>
    <p><b>[&nbsp;</b> expressionSequence&nbsp;<b>] </b>&nbsp;&nbsp;&nbsp;&nbsp;&quot;引数なしのブロック&quot;<br>
    <b>[</b>&nbsp; (: identifier)<sup>+</sup> |
    expressionSequence <b>]</b> &nbsp;&nbsp;&nbsp;&nbsp;&quot;引数を持つブロック&quot;<br>
    <b>[ </b>(: identifier)<sup>+</sup> | | identifier<sup>+</sup>
    | expressionSequence <b>]&nbsp;</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;引数とローカル変数を持つブロック&quot;</p>
</blockquote>

<p><br>
<b>[</b> 1. 2. 3 <b>]</b> &quot;このブロックは、評価される時、値3を返します。&quot;<br>
<b>[</b> object doWithSideEffects. test<b>]</b> &quot;このブロックは、評価される時、#doWithSideEffectsをobjectに送り、testオブジェクトを返します。&quot;<br>
<b>[</b> :param <font size="4"><b>|</b></font> param doSomething <b>]</b>
&quot;このブロックは、評価される時、パラメータに#doSomethingを送った結果を返します。</p>

<ul>
    <li>ブロックは、後で評価される列(a deferred
        sequence of actions)をあらわします。 </li>
    <li>ブロック式の値は、あとでリクエストがあった時に、囲まれた式を実行することができるオブジェクトです。Thus
        <ul>
            <li><b>[</b> 1. 2. 3 <b>]</b> ==&gt; [ ] in
                UndefinedObject&gt;&gt;DoIt<br>
                <b>[</b> 1. 2. 3 <b>]</b> value ==&gt; 3 </li>
        </ul>
    </li>
    <li>言語の専門家は、大雑把に言って、ブロックがラムダ式や、匿名関数(anonymous
        function)、クロージャ(closure)に等価であることに気づくでしょう。<br>
        </li>
</ul>

<h4>BlockContextの評価メッセージ</h4>
<div align="center"><center>

<table border="1" cellpadding="3" width="85%" bgcolor="#FFFFCC">
    <tr>
        <td bgcolor="#FFCC99"><b>メッセージ</b></td>
        <td bgcolor="#FFCC99"><p align="center"><b>記述</b></p>
        </td>
        <td bgcolor="#FFCC99"><b>備考</b></td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>value</b></td>
        <td bgcolor="#FFCC99">レシーバに当たるブロックを評価し、結果を返します。</td>
        <td bgcolor="#FFCC99">1</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>value:</b> arg</td>
        <td bgcolor="#FFCC99">引数argの値を渡して、レシーバに当たるブロックを評価します。</td>
        <td bgcolor="#FFCC99">2</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>valueWithArguments:</b> anArray</td>
        <td bgcolor="#FFCC99">レシーバに当たるブロックを評価します。引数は、要素がブロックの引数に当たる配列です。<br>
        もし配列の長さがブロックが期待している引数の数と等しくなければ、エラーを知らせます。</td>
        <td bgcolor="#FFCC99">3</td>
    </tr>
</table>
</center></div>

<p>備考</p>

<ol>
    <li>ブロックにメッセージ<code>#value</code>が送られると、ブロックが実行され、結果が返されます。</li>
    <li>メッセージ<code> #value: arg</code>でもブロックが実行されます。この場合、ブロックは引数を必ず１つ要求しないといけません。引数に対応するパラメータは<code>arg</code>に初期化されます。
    </li>
    <li>Squeakでは、<code>#value:value:</code>も、 <code>#value:value:value:</code>も、<code>#value:value:value:value:</code>も使えます。
        ５つ以上のパラメータを持つブロックの場合には、<code>#valueWithArguments:</code>を使います。
    </li>
</ol>

<h3><a name="SyntaxControl">制御構造</a></h3>

<h4>（レシーバがBooleanオブジェクトの場合の）二者択一の制御構造</h4>
<div align="center"><center>

<table border="1" cellpadding="3" width="85%" bgcolor="#FFFFCC">
    <tr>
        <td bgcolor="#FFCC99"><b>メッセージ</b></td>
        <td bgcolor="#FFCC99"><p align="center"><b>Description</b></p>
        </td>
        <td bgcolor="#FFCC99"><b>備考</b></td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>ifTrue:</b> alternativeBlock</td>
        <td bgcolor="#FFCC99">もしレシーバがfalseなら、nilを返します。もしレシーバがBooleanでないなら、エラーを知らせます。<br>
        そのほかの場合、alternativeBlockを評価した結果を返します。</td>
        <td bgcolor="#FFCC99">1,2</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>ifFalse:</b> alternativeBlock</td>
        <td bgcolor="#FFCC99">もしレシーバがtrueなら、nilを返します。もしレシーバがBooleanでないなら、エラーを知らせます。<br>
        そのほかの場合、alternativeBlockを評価した結果を返します。</td>
        <td bgcolor="#FFCC99">1,2</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>ifTrue:</b> trueAlternativeBlock<br>
        <b>ifFalse:</b> falseAlternativeBlock</td>
        <td bgcolor="#FFCC99">もしレシーバがtureなら、trueAlternativeBlockの値を返します。<br>
        もしレシーバがfalseなら、falseAlternativeBlockの値を返します。そのほかの場合、エラーを知らせます。</td>
        <td bgcolor="#FFCC99">1,2</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>ifFalse:</b>
        falseAlternativeBlock<br>
        <b>ifTrue:</b> trueAlternativeBlock</td>
        <td bgcolor="#FFCC99">ifTrue:ifFalse:と同じです。</td>
        <td bgcolor="#FFCC99">1,2</td>
    </tr>
</table>
</center></div>

<p>備考</p>

<ol>
    <li>これらは、Booleanオブジェクトに送られるキーワードメッセージとして解釈されるので、技術的にいうと制御構造ではありません。（TrueクラスとFalseクラスのこれらのメソッドの定義を参照してください。）</li>
    <li>しかし、これらの式は、他の言語の制御構造と同じ役割を果たします。</li>
</ol>

<h4>（レシーバが任意のオブジェクトの場合の）二者択一の制御構造</h4>
<div align="center"><center>

<table border="1" cellpadding="3" width="85%" bgcolor="#FFFFCC">
    <tr>
        <td bgcolor="#FFCC99"><b>メッセージ</b></td>
        <td bgcolor="#FFCC99"><p align="center"><b>記述</b></p>
        </td>
        <td bgcolor="#FFCC99"><b>備考</b></td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>ifNil:</b> nilBlock</td>
        <td bgcolor="#FFCC99">もしレシーバがnilなら、nilBlockを評価した結果を返します。そのほかの場合、レシーバを返します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>ifNotNil:</b> ifNotNilBlock</td>
        <td bgcolor="#FFCC99">もしレシーバがnilでないなら、ifNotNilBlockを評価した結果を返します。そのほかの場合、nilを返します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>ifNil:</b> nilBlock<br>
        <b>ifNotNil:</b> ifNotNilBlock</td>
        <td bgcolor="#FFCC99">もしレシーバがnilなら、nilBlockを評価した結果を返します。そのほかの場合、ifNotNilBlockを評価した結果を返します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>ifNotNil:</b> ifNotNilBlock<br>
        <b>ifNil:</b> nilBlock</td>
        <td bgcolor="#FFCC99">#ifNil:ifNotNil:と同じです。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
</table>
</center></div>

<h4>繰り返しのための制御構造（レシーバがaBlockContext）</h4>
<div align="center"><center>

<table border="1" cellpadding="3" width="85%" bgcolor="#FFFFCC">
    <tr>
        <td bgcolor="#FFCC99"><b>メッセージ</b></td>
        <td bgcolor="#FFCC99"><p align="center"><b>記述</b></p>
        </td>
        <td bgcolor="#FFCC99"><b>備考</b></td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>whileTrue</b></td>
        <td bgcolor="#FFCC99">レシーバを評価します。結果がtrueである間、レシーバの評価を繰り返します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>whileTrue:</b> aBlock</td>
        <td bgcolor="#FFCC99">レシーバを評価します。もしtrueなら、aBlockを評価して、レシーバの評価に戻ります。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>whileFalse</b></td>
        <td bgcolor="#FFCC99">レシーバを評価します。結果がfalseである間、レシーバの評価を繰り返します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>whileFalse:</b> aBlock</td>
        <td bgcolor="#FFCC99">レシーバを評価します。もしfalseなら、aBlockを評価してレシーバの評価に戻ります。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
</table>
</center></div>

<h4>列挙の制御構造（レシーバはanInteger)</h4>
<div align="center"><center>

<table border="1" cellpadding="3" width="85%" bgcolor="#FFFFCC">
    <tr>
        <td bgcolor="#FFCC99"><b>メッセージ</b></td>
        <td bgcolor="#FFCC99"><p align="center"><b>記述</b></p>
        </td>
        <td bgcolor="#FFCC99"><b>備考</b></td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>timesRepeat:</b> aBlock</td>
        <td bgcolor="#FFCC99">レシーバの数の回数だけ引数aBlockを評価します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>to:</b> stop <b>do:</b> aBlock</td>
        <td bgcolor="#FFCC99">インターバル(self to: stop by:
        1)のそれぞれの要素を引数としてaBlockを評価します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>to:</b> stop <b>by:</b> step <b>do:</b>
        aBlock</td>
        <td bgcolor="#FFCC99">インターバル(self to: stop by:
        step)のそれぞれの要素を引数としてaBlockを評価します。</td>
        <td bgcolor="#FFCC99">　</td>
    </tr>
</table>
</center></div>

<h4>列挙の制御構造（レシーバはCollection）</h4>
<div align="center"><center>

<table border="1" cellpadding="3" width="85%" bgcolor="#FFFFCC">
    <tr>
        <td bgcolor="#FFCC99"><b>メッセージ</b></td>
        <td bgcolor="#FFCC99"><p align="center"><b>記述</b></p>
        </td>
        <td bgcolor="#FFCC99"><b>備考</b></td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>do:</b> aBlock</td>
        <td bgcolor="#FFCC99">レシーバのそれぞれの要素について、要素を引数としてaBlockを評価します。</td>
        <td bgcolor="#FFCC99">1</td>
    </tr>
</table>
</center></div>

<p>Note</p>

<ol>
    <li>Squeakの集合型は非常にたくさんの列挙演算を提供しています。クラスリファレンスの<a
        href="http://www.mucow.com/SqueakClassesRef.html#Enumerating Collections">「集合を列挙する」</a>節を見てください。</li>
</ol>

<h4><a name="Case Structures">ケース構造（レシーバは任意のオブジェクト）</a></h4>
<div align="center"><center>

<table border="1" cellpadding="3" width="85%" bgcolor="#FFFFCC">
    <tr>
        <td bgcolor="#FFCC99"><b>メッセージ</b></td>
        <td bgcolor="#FFCC99"><p align="center"><b>記述</b></p>
        </td>
        <td bgcolor="#FFCC99"><b>備考</b></td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>caseOf:</b>
        aBlockAssociationCollection</td>
        <td bgcolor="#FFCC99">aBlockAssociationCollectionの中の、評価したキーがレシーバと等しい最初の連想の評価値を返します。もし一致するものが見つからなければ、エラーを知らせます。</td>
        <td bgcolor="#FFCC99">1</td>
    </tr>
    <tr>
        <td bgcolor="#FFCC99"><b>caseOf:</b>
        aBlockAssociationCollection <b>otherwise:</b> aBlock</td>
        <td bgcolor="#FFCC99">aBlockAssociationCollectionの中の、評価したキーがレシーバと等しい最初の連想の評価値を返します。もし一致するものが見つからなければ、エラーを知らせます。もし一致するものが見つからなければ、aBlockの評価値を返します。</td>
        <td bgcolor="#FFCC99">1</td>
    </tr>
</table>
</center></div>

<p>備考</p>

<ol>
    <li>aBlockAssociationCollectionは連想（キーと値のペア）の集合です。<br>
        例: <code>aSymbol caseOf: {[#a]-&gt;[1+1]. ['b' asSymbol]-&gt;[2+2].
        [#c]-&gt;[3+3]}</code> </li>
</ol>

<h3><a name="BraceArray">式の &quot;大括弧&quot; 配列</a></h3>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; braceArray ::= <b>{</b>&nbsp;
expressionSequence&nbsp;<b>}<br>
<br>
{</b> 1. 2. 3. 4. 5 <b>}</b> &quot;５つのInteger(1 to 5)からなる、サイズが５の配列。&quot;<br>
<b>{</b> $a. #brace. array <b>}</b> &quot;Character($a)とSymbol(#brace)と変数配列の<i>現在の値</i>からなる、サイズが３の配列。&quot;<br>
<b>{</b> 1 + 2 <b>}</b> &quot;１つの整数３からなる、サイズが１の配列。&quot;</p>

<ul>
    <li>大括弧配列は、ランタイム時に計算される正真正銘のSmalltalk式です。</li>
    <li>大括弧配列の要素は構成要素式の返り値です。</li>
    <li>これらは、時々、形式ばった式&quot;Array
        with: expr1 with: expr2 with: expr3&quot;の、便利でもっと一般的な代わりになります。</li>
    <li>インデックスは１から始まります。</li>
</ul>

<h3><a name="Answer Expressions">アンサー式</a></h3>

<blockquote>
    <p>answerExpression ::= ^ expression</p>
</blockquote>

<p>^ aTemporary<br>
^ 2+3</p>

<ul>
    <li>メソッドの中身の中で、アンサー式はメソッドの実行を終了させるのに使われ、メソッドの返り値として式を伝えます。
    </li>
    <li>メソッドの中で使用されるブロック式の中のアンサー式を評価すると、（訳注：ブロックだけでなく）メソッドが終了します。</li>
</ul>

<h3><a name="Class Definition">クラスの定義</a></h3>

<h4>通常のクラスの定義</h4>

<pre>SuperClass subclass: #NameOfClass
    instanceVariableNames: 'instVarName1 instVarName2'
    classVariableNames: 'ClassVarName1 ClassVarName2'
    poolDictionaries: ''
    category: 'Major-Minor'</pre>

<h4>変数クラスの定義</h4>

<p>これらのクラス定義の形式は、ArrayとかByteArrayとかWordArrayのオブジェクトのように、番号付け可能なオブジェクトを生成するのに使われます。これらは完全を期すためにここに含まれて居ますが、通常は直接は使用されません；代わりに、その値が適切な配列（や他の集合）オブジェクトを指すインスタンス変数を伴う通常のオブジェクトを使います。</p>

<pre>SuperClass variableSubclass: #NameOfClass
    instanceVariableNames: 'instVarName1 instVarName2'
    classVariableNames: 'ClassVarName1 ClassVarName2'
    poolDictionaries: ''
    category: 'Major-Minor'
         
SuperClass variableByteSubclass: #NameOfClass
    instanceVariableNames: 'instVarName1 instVarName2'
    classVariableNames: 'ClassVarName1 ClassVarName2'
    poolDictionaries: ''
    category: 'Major-Minor'
         
SuperClass variableWordSubclass: #NameOfClass
    instanceVariableNames: 'instVarName1 instVarName2'
    classVariableNames: 'ClassVarName1 ClassVarName2'
    poolDictionaries: ''
    category: 'Major-Minor'</pre>

<h3><a name="Method Definition">メソッドの定義</a></h3>

<p>すべてのメソッドは値を返します；これを保証するために、すべてのメソッドの終わりには暗黙の<code>^self</code>が存在します。以下はStringクラスからの例です。</p>

<pre><b>lineCount
    </b>&quot;すべてのcrで１行足すことで、レシーバの行数を返します。&quot;
         
&nbsp;&nbsp;&nbsp;&nbsp;| cr count |
&nbsp;&nbsp;&nbsp;&nbsp;cr <img src="squeak-qref.files/arrow.gif"
align="top" width="14" height="13" naturalsizeflag="3"> Character cr.
&nbsp;&nbsp;&nbsp;&nbsp;count <img
src="squeak-qref.files/arrow.gif" align="top" width="14"
height="13" naturalsizeflag="3"> 1  min: self size.
&nbsp;&nbsp;&nbsp;&nbsp;self do:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[:c | c == cr ifTrue: [count <img
src="squeak-qref.files/arrow.gif" align="top" width="14"
height="13" naturalsizeflag="3"> count + 1]].
&nbsp;&nbsp;&nbsp;&nbsp;^ count
      </pre>

<hr align="left">

<p align="center">Copyright &copy; <font
face="ＭＳ Ｐゴシック">1999</font> Andrew C. Greenberg<br>
Copyright &copy; 2001 Andrew P. Black<br>
Copyright &copy; 2003 ICHIKAWA, Yuji</p>
</body>
</html>
